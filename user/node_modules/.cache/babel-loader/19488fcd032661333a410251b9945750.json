{"ast":null,"code":"import _objectSpread from \"/media/mark/mark_nakachon/cafeHungamaFrontEnd/user/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/media/mark/mark_nakachon/cafeHungamaFrontEnd/user/src/Context.js\";\nimport React, { Component } from 'react';\nconst myContext = React.createContext();\n\nclass ContextProvider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSelectChange = (selectedRowKeys, selectedRows) => {\n      //  console.log(\"selectedRowKeys changed: \", selectedRowKeys, selectedRows);\n      this.setState({\n        selectedRowKeys,\n        selectedData: selectedRows //price: selectedRows.reduce((acc, curr) => acc + curr.price, 0)\n\n      });\n    };\n\n    this.state = {\n      location: '',\n      date: '',\n      eventType: '',\n      venues: '',\n      bookedSlots: [],\n      selectedRowKeys: [],\n      // Check here to configure the default column,\n      selectedRows: [],\n      selectedData: [],\n      user: {},\n      token: \"\"\n    };\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n    this.handleLocationClick = this.handleLocationClick.bind(this);\n    this.handleEventTypeClick = this.handleEventTypeClick.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.updateBookings = this.updateBookings.bind(this);\n  }\n\n  componentDidMount() {\n    //if(this.state.location==='' && this.state.date==='' && this.state.eventType===''){\n    fetch(\"https://cafehungama.herokuapp.com/user/venues/all\").then(response => response.json()).then(data => {\n      this.setState({\n        venues: data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  handleButtonClick(e) {\n    //message.info('Click on left button.');\n    //console.log('searching data');\n\n    /*console.log(this.state.location,this.state.eventType\n        ,this.state.date);*/\n    var data = {\n      location: this.state.location,\n      eventType: this.state.eventType,\n      date: this.state.date\n    };\n    fetch(\"https://cafehungama.herokuapp.com/user/venues/search/\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        venues: data.filteredVenues\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  handleLocationClick(e) {\n    // message.info('Click on menu item.');\n    this.setState({\n      location: e.key\n    });\n  }\n\n  onChange(date, dateString) {\n    //  console.log(date,dateString);\n    this.setState({\n      date: dateString\n    });\n  }\n\n  handleEventTypeClick(e) {\n    //console.log('click event',e);\n    this.setState({\n      eventType: e.key\n    });\n  }\n\n  updateBookings(selectedRowKeys) {\n    console.log(selectedRowKeys);\n    /*this.setState({\n        bookedSlots:bookings\n    })*/\n\n    /* this.setState({\n         bookedSlots:bookings\n     })*/\n  }\n\n  render() {\n    return React.createElement(myContext.Provider, {\n      value: _objectSpread({}, this.state, {\n        handleButtonClick: this.handleButtonClick,\n        handleLocationClick: this.handleLocationClick,\n        handleEventTypeClick: this.handleEventTypeClick,\n        onChange: this.onChange,\n        updateBookings: this.updateBookings,\n        onSelectChange: this.onSelectChange\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nconst ContextConsumer = myContext.Consumer;\nexport { ContextConsumer, ContextProvider };","map":{"version":3,"sources":["/media/mark/mark_nakachon/cafeHungamaFrontEnd/user/src/Context.js"],"names":["React","Component","myContext","createContext","ContextProvider","constructor","props","onSelectChange","selectedRowKeys","selectedRows","setState","selectedData","state","location","date","eventType","venues","bookedSlots","user","token","handleButtonClick","bind","handleLocationClick","handleEventTypeClick","onChange","updateBookings","componentDidMount","fetch","then","response","json","data","catch","err","console","log","e","method","headers","body","JSON","stringify","filteredVenues","key","dateString","render","children","ContextConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nconst myContext = React.createContext();\n\nclass ContextProvider extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            location:'',\n            date:'',\n            eventType:'',\n            venues:'',\n            bookedSlots:[],\n            selectedRowKeys: [], // Check here to configure the default column,\n            selectedRows: [],\n            selectedData:[],\n            user:{},\n            token:\"\"\n         }\n         this.handleButtonClick = this.handleButtonClick.bind(this);\n         this.handleLocationClick = this.handleLocationClick.bind(this);\n         this.handleEventTypeClick = this.handleEventTypeClick.bind(this);\n         this.onChange = this.onChange.bind(this);\n         this.updateBookings = this.updateBookings.bind(this);\n\n    }\n    componentDidMount(){\n        //if(this.state.location==='' && this.state.date==='' && this.state.eventType===''){\n        fetch(`https://cafehungama.herokuapp.com/user/venues/all`)\n        .then(response=>response.json())\n        .then(data=>{\n            this.setState({\n                venues:data\n            })\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n\n     handleButtonClick(e) {\n        //message.info('Click on left button.');\n        //console.log('searching data');\n        /*console.log(this.state.location,this.state.eventType\n            ,this.state.date);*/\n\n        var data = {\n            location:this.state.location,\n            eventType:this.state.eventType,\n            date:this.state.date,\n        }\n        fetch(`https://cafehungama.herokuapp.com/user/venues/search/`,{\n            method:'POST',\n            headers:{\n                \"Content-Type\": \"application/json\"\n            },\n            body:JSON.stringify(data)\n        })\n        .then(response=>response.json())\n        .then(data=>{\n            this.setState({\n                venues:data.filteredVenues\n            })\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n\n    }\n\n\n     handleLocationClick(e) {\n        // message.info('Click on menu item.');\n        this.setState({\n            location:e.key\n        })\n     }\n\n     onChange(date, dateString) {\n       //  console.log(date,dateString);\n        this.setState({\n            date:dateString\n        })\n    }\n    handleEventTypeClick(e){\n        //console.log('click event',e);\n        this.setState({\n            eventType:e.key\n        })\n    }\n    updateBookings(selectedRowKeys){\n        console.log(selectedRowKeys);\n        /*this.setState({\n            bookedSlots:bookings\n        })*/\n       /* this.setState({\n            bookedSlots:bookings\n        })*/\n    }\n\n    onSelectChange = (selectedRowKeys, selectedRows) => {\n        //  console.log(\"selectedRowKeys changed: \", selectedRowKeys, selectedRows);\n        this.setState({\n          selectedRowKeys,\n          selectedData: selectedRows,\n          //price: selectedRows.reduce((acc, curr) => acc + curr.price, 0)\n        });\n    }\n    render() {\n        return (\n            <myContext.Provider value={{\n                ...this.state,\n                handleButtonClick:this.handleButtonClick,\n                handleLocationClick:this.handleLocationClick,\n                handleEventTypeClick:this.handleEventTypeClick,\n                onChange:this.onChange,\n                updateBookings:this.updateBookings,\n                onSelectChange:this.onSelectChange\n\n            }}>\n                {this.props.children}\n            </myContext.Provider>\n         );\n    }\n}\n\nconst ContextConsumer = myContext.Consumer;\n\nexport {ContextConsumer,ContextProvider}"]},"metadata":{},"sourceType":"module"}